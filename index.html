<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VidaPlus - Sistema de Gestão Hospitalar</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>

    <div id="view-login">
        <div class="login-box">
            <h2 style="color:var(--primary); margin-bottom:10px;"><i data-lucide="activity"></i> VidaPlus</h2>
            <p style="color:var(--secondary); margin-bottom:30px;">Sistema Hospitalar</p>
            <form id="loginForm">
                <input type="email" id="email" class="form-control" placeholder="medico@vidaplus.com" required>
                <input type="password" id="password" class="form-control" placeholder="123456" required>
                <button type="submit" class="btn btn-primary" style="width:100%;">ENTRAR</button>
                <button type="button" class="btn btn-outline" style="width:100%; margin-top:10px;"
                    onclick="prepararCadastroPaciente()">CRIAR CONTA</button>
                <div id="loginError" style="color:var(--danger); margin-top:10px; display:none;">Dados inválidos</div>
            </form>
            <div style="margin-top:20px; text-align:left; background:#fff3cd; padding:10px; font-size:0.8rem;">
                <strong>Logins (Senha: 123456):</strong><br>
                medico@vidaplus.com<br>
                enf@vidaplus.com (Enfermeiro)<br> admin@vidaplus.com<br>
                paciente@vidaplus.com
            </div>
        </div>
    </div>

    <div id="app-layout" class="hidden">
        <header>
            <div style="font-weight:bold; color:var(--primary); display:flex; gap:10px; align-items:center;">
                <i data-lucide="activity"></i> VidaPlus
            </div>
            <div style="display:flex; gap:15px; align-items:center;">
                <div class="notif-container">
                    <div class="notif-bell" onclick="toggleNotificacoes()" aria-label="Ver notificações" role="button"
                        tabindex="0">
                        <i data-lucide="bell"></i>
                        <span id="notif-badge" class="notif-badge hidden"></span>
                    </div>
                    <div id="notif-dropdown" class="notif-dropdown hidden">
                        <div class="notif-header">
                            <span>Notificações</span>
                            <span style="font-size:0.75rem; font-weight:normal; cursor:pointer; color:var(--primary);"
                                onclick="alert('Todas marcadas como lidas')">Marcar lidas</span>
                        </div>
                        <ul class="notif-list" id="notif-list"></ul>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div id="userName" style="font-weight:500;">Usuário</div>
                    <div id="userRole" style="font-size:0.8rem; color:var(--secondary);">Cargo</div>
                </div>
                <button class="btn btn-danger btn-sm" onclick="logout()">Sair</button>
            </div>
        </header>

        <main class="container">
            <section id="view-medico" class="hidden">
                <div class="app-layout-sidebar">
                    <aside class="sidebar">
                        <div class="sidebar-item active" id="btn-painel" onclick="switchMedicoView('painel')"><i
                                data-lucide="layout-dashboard"></i> Painel</div>
                        <div class="sidebar-item" id="btn-agenda" onclick="switchMedicoView('agenda')"><i
                                data-lucide="calendar"></i> Agenda</div>
                        <div class="sidebar-item" id="btn-prontuarios" onclick="switchMedicoView('prontuarios')"><i
                                data-lucide="file-text"></i> Prontuários</div>
                        <div class="sidebar-item" id="btn-pacientes" onclick="switchMedicoView('pacientes')"><i
                                data-lucide="users"></i> Pacientes</div>
                    </aside>
                    <div class="content-area medico-content">
                        <div id="content-painel">
                            <h2 style="margin-bottom:20px;">Visão Geral do Dia</h2>
                            <div class="doctor-kpi-grid">
                                <div class="doc-card">
                                    <div>
                                        <h3>12</h3>
                                        <p>Total Pacientes</p>
                                    </div><i data-lucide="users" style="opacity:0.2" size="32"></i>
                                </div>
                                <div class="doc-card" style="border-left-color:var(--warning)">
                                    <div>
                                        <h3>3</h3>
                                        <p>Aguardando</p>
                                    </div><i data-lucide="clock" style="color:var(--warning); opacity:0.8"
                                        size="32"></i>
                                </div>
                                <div class="doc-card" style="border-left-color:var(--success)">
                                    <div>
                                        <h3>4</h3>
                                        <p>Finalizados</p>
                                    </div><i data-lucide="check-circle" style="color:var(--success); opacity:0.8"
                                        size="32"></i>
                                </div>
                            </div>
                            <div
                                style="display:grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap:20px;">
                                <div class="card">
                                    <h3>Próximo Paciente</h3>
                                    <div style="display:flex; align-items:center; gap:15px; margin-top:15px;">
                                        <div
                                            style="width:50px; height:50px; background:var(--primary); color:white; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:bold;">
                                            JS</div>
                                        <div><strong>João Silva</strong><br><small>08:00 - Dor de Cabeça</small></div>
                                    </div>
                                    <button class="btn btn-primary" style="width:100%; margin-top:15px;"
                                        onclick="atender(1)">Iniciar Atendimento</button>
                                </div>
                                <div class="card">
                                    <h3>Notificações</h3>
                                    <ul style="list-style:none; margin-top:10px;">
                                        <li style="padding:8px 0; border-bottom:1px solid #eee; font-size:0.9rem;"><i
                                                data-lucide="alert-circle" size="14" style="color:red"></i> Exames de
                                            Maria Oliveira prontos</li>
                                        <li style="padding:8px 0; font-size:0.9rem;"><i data-lucide="info" size="14"
                                                style="color:blue"></i> Reunião clínica às 16h</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div id="content-agenda" class="hidden">
                            <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                                <h2>Minha Agenda</h2>
                                <button class="btn btn-primary" onclick="openModal('modal-novo-agendamento-medico')"><i
                                        data-lucide="plus"></i> Novo</button>
                            </div>
                            <div class="agenda-controls">
                                <button class="btn btn-outline btn-sm active"
                                    onclick="filtrarAgenda('dia', this)">Dia</button>
                                <button class="btn btn-outline btn-sm"
                                    onclick="filtrarAgenda('semana', this)">Semana</button>
                                <button class="btn btn-outline btn-sm" onclick="filtrarAgenda('mes', this)">Mês</button>
                                <span id="agenda-periodo-texto"
                                    style="margin-left:auto; color:var(--secondary); font-weight:500;">Hoje</span>
                            </div>
                            <div class="card table-container">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Horário</th>
                                            <th>Paciente</th>
                                            <th>Motivo</th>
                                            <th>Status</th>
                                            <th>Ação</th>
                                        </tr>
                                    </thead>
                                    <tbody id="lista-pacientes"></tbody>
                                </table>
                            </div>
                        </div>

                        <div id="content-triagem" class="hidden">
                            <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                                <h2>Triagem e Classificação</h2>
                                <span class="badge badge-info"><i data-lucide="list"></i> Fila de Espera</span>
                            </div>

                            <div class="card table-container">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Horário</th>
                                            <th>Paciente</th>
                                            <th>Sintomas Iniciais</th>
                                            <th>Prioridade Sugerida</th>
                                            <th>Ação</th>
                                        </tr>
                                    </thead>
                                    <tbody id="lista-triagem">
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div id="content-prontuarios" class="hidden">
                            <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                                <h2>Prontuários Eletrônicos</h2>
                                <button class="btn btn-primary" onclick="openModal('modal-novo-prontuario')"><i
                                        data-lucide="file-plus"></i> Novo</button>
                            </div>
                            <div class="card" style="padding:15px;"><input type="text" id="search-prontuario"
                                    class="form-control" placeholder="Buscar por Nome ou CPF..."
                                    onkeyup="filtrarProntuarios()" style="margin:0;"></div>
                            <div class="card table-container">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Paciente</th>
                                            <th>Condição</th>
                                            <th>Última Visita</th>
                                            <th>Status</th>
                                            <th>Ação</th>
                                        </tr>
                                    </thead>
                                    <tbody id="lista-prontuarios"></tbody>
                                </table>
                            </div>
                        </div>

                        <div id="content-pacientes" class="hidden">
                            <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                                <h2>Base de Pacientes</h2>
                                <button class="btn btn-primary" onclick="prepararNovoCadastro()"><i
                                        data-lucide="user-plus"></i> Cadastrar</button>
                            </div>
                            <div class="card" style="padding:15px;"><input type="text" id="search-pacientes"
                                    class="form-control" placeholder="Buscar..." onkeyup="filtrarPacientes()"
                                    style="margin:0;"></div>
                            <div class="card table-container">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Nome</th>
                                            <th>CPF</th>
                                            <th>Email</th>
                                            <th>Convênio</th>
                                            <th>Ação</th>
                                        </tr>
                                    </thead>
                                    <tbody id="lista-pacientes-base"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="view-admin" class="hidden">
                <div class="app-layout-sidebar">
                    <aside class="sidebar">
                        <div class="sidebar-item active" id="btn-admin-dash" onclick="switchAdminView('dashboard')">
                            <i data-lucide="layout-dashboard"></i> Dashboard
                        </div>
                        <div class="sidebar-item" id="btn-admin-users" onclick="switchAdminView('users')">
                            <i data-lucide="users-cog"></i> Profissionais
                        </div>
                        <div class="sidebar-item" id="btn-admin-pacientes" onclick="switchAdminView('pacientes')">
                            <i data-lucide="users"></i> Pacientes
                        </div>
                        <div class="sidebar-item" id="btn-admin-unidades" onclick="switchAdminView('unidades')">
                            <i data-lucide="building"></i> Unidades
                        </div>
                        <div class="sidebar-item" id="btn-admin-leitos" onclick="switchAdminView('leitos')">
                            <i data-lucide="bed"></i> Internações
                        </div>
                        <div class="sidebar-item" id="btn-admin-estoque" onclick="switchAdminView('estoque')">
                            <i data-lucide="package"></i> Estoque
                        </div>
                        <div class="sidebar-item" id="btn-admin-relatorios" onclick="switchAdminView('relatorios')">
                            <i data-lucide="bar-chart-2"></i> Relatórios
                        </div>
                        <div class="sidebar-item" id="btn-admin-monitor" onclick="switchAdminView('monitor')">
                            <i data-lucide="activity"></i> Monitorização
                        </div>
                    </aside>
                    <div class="content-area">
                        <div id="admin-content-dashboard">
                            <div
                                style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                                <div>
                                    <h2 style="margin-bottom:5px;">Visão Geral Administrativa</h2>
                                    <p style="color:var(--secondary); font-size:0.9rem;">Resumo operacional do hospital
                                        em
                                        tempo real.</p>
                                </div>
                                <div style="text-align:right;">
                                    <span class="badge badge-online"><i data-lucide="clock" size="12"></i> Atualizado
                                        agora</span>
                                </div>
                            </div>

                            <div class="doctor-kpi-grid"
                                style="grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));">
                                <div class="kpi-card-v2" style="border-bottom-color: var(--primary);">
                                    <div class="kpi-header">
                                        <div class="kpi-label">Total Pacientes</div>
                                        <div class="kpi-icon-box" style="background: #e7f1ff; color: var(--primary);"><i
                                                data-lucide="users"></i></div>
                                    </div>
                                    <div class="kpi-value">15.420</div>
                                    <div class="kpi-trend trend-up"><i data-lucide="trending-up" size="14"></i> +12%
                                        este
                                        mês</div>
                                </div>

                                <div class="kpi-card-v2" style="border-bottom-color: var(--success);">
                                    <div class="kpi-header">
                                        <div class="kpi-label">Consultas Hoje</div>
                                        <div class="kpi-icon-box" style="background: #d4edda; color: var(--success);"><i
                                                data-lucide="calendar-check"></i></div>
                                    </div>
                                    <div class="kpi-value">42</div>
                                    <div class="kpi-trend trend-up"><i data-lucide="trending-up" size="14"></i> +5% vs
                                        ontem
                                    </div>
                                </div>

                                <div class="kpi-card-v2" style="border-bottom-color: var(--warning);">
                                    <div class="kpi-header">
                                        <div class="kpi-label">Faturamento (Dia)</div>
                                        <div class="kpi-icon-box" style="background: #fff3cd; color: #856404;"><i
                                                data-lucide="dollar-sign"></i></div>
                                    </div>
                                    <div class="kpi-value">R$ 12.5k</div>
                                    <div class="kpi-trend trend-down"><i data-lucide="trending-down" size="14"></i> -2%
                                        meta
                                    </div>
                                </div>

                                <div class="kpi-card-v2" style="border-bottom-color: var(--info);">
                                    <div class="kpi-header">
                                        <div class="kpi-label">Equipe Ativa</div>
                                        <div class="kpi-icon-box" style="background: #d1ecf1; color: var(--info);"><i
                                                data-lucide="stethoscope"></i></div>
                                    </div>
                                    <div class="kpi-value">34</div>
                                    <div class="kpi-trend trend-neutral"><i data-lucide="minus" size="14"></i> Estável
                                    </div>
                                </div>
                            </div>

                            <div class="admin-grid-layout">
                                <div class="card" style="margin:0;">
                                    <div
                                        style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                                        <h3>Fluxo de Atendimentos</h3>
                                        <select class="form-control"
                                            style="width:auto; margin:0; padding:5px; font-size:0.8rem;">
                                            <option>Últimos 7 dias</option>
                                        </select>
                                    </div>
                                    <div class="simple-bar-chart">
                                        <div class="s-bar-col">
                                            <div class="s-bar" style="height: 40%; background:var(--primary);"><span
                                                    class="s-tooltip">40</span></div><span class="s-label">Seg</span>
                                        </div>
                                        <div class="s-bar-col">
                                            <div class="s-bar" style="height: 65%; background:var(--primary);"><span
                                                    class="s-tooltip">65</span></div><span class="s-label">Ter</span>
                                        </div>
                                        <div class="s-bar-col">
                                            <div class="s-bar" style="height: 85%; background:var(--primary);"><span
                                                    class="s-tooltip">85</span></div><span class="s-label">Qua</span>
                                        </div>
                                        <div class="s-bar-col">
                                            <div class="s-bar" style="height: 55%; background:var(--primary);"><span
                                                    class="s-tooltip">55</span></div><span class="s-label">Qui</span>
                                        </div>
                                        <div class="s-bar-col">
                                            <div class="s-bar" style="height: 70%; background:var(--primary);"><span
                                                    class="s-tooltip">70</span></div><span class="s-label">Sex</span>
                                        </div>
                                        <div class="s-bar-col">
                                            <div class="s-bar" style="height: 30%; background:#99c2ff;"><span
                                                    class="s-tooltip">30</span></div><span class="s-label">Sab</span>
                                        </div>
                                        <div class="s-bar-col">
                                            <div class="s-bar" style="height: 25%; background:#99c2ff;"><span
                                                    class="s-tooltip">25</span></div><span class="s-label">Dom</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="card"
                                    style="margin:0; display:flex; flex-direction:column; align-items:center;">
                                    <h3 style="align-self:flex-start; margin-bottom:10px;">Taxa de Ocupação</h3>
                                    <div class="donut-chart-container">
                                        <div class="donut-chart"
                                            style="background: conic-gradient(var(--danger) 0% 85%, #f0f0f0 85% 100%);">
                                            <div class="donut-center">
                                                <span class="donut-value" style="color:var(--danger)">85%</span>
                                                <span class="donut-label">Crítico</span>
                                            </div>
                                        </div>
                                        <p
                                            style="margin-top:15px; font-size:0.9rem; text-align:center; color:var(--secondary);">
                                            17 de 20 Leitos Ocupados
                                        </p>
                                        <button class="btn btn-sm btn-outline" style="margin-top:10px;"
                                            onclick="switchAdminView('leitos')">Ver Mapa</button>
                                    </div>
                                </div>
                            </div>

                            <div class="card">
                                <div
                                    style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                                    <h3><i data-lucide="shield-check"></i> Auditoria e Segurança</h3>
                                    <button class="btn btn-sm btn-outline">Ver Logs Completos</button>
                                </div>
                                <ul class="activity-list" id="admin-audit-list">
                                </ul>
                            </div>

                        </div>
                        <div id="admin-content-users" class="hidden">
                            <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                                <h2>Gestão de Profissionais</h2><button class="btn btn-primary"
                                    onclick="prepararNovoCadastroProfissional()">Novo</button>
                            </div>
                            <div class="card table-container">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Nome</th>
                                            <th>Cargo</th>
                                            <th>Registro</th>
                                            <th>Unidade</th>
                                            <th>Status</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody id="lista-profissionais"></tbody>
                                </table>
                            </div>
                        </div>

                        <div id="admin-content-pacientes" class="hidden">
                            <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                                <h2>Gestão de Pacientes</h2><button class="btn btn-primary"
                                    onclick="prepararNovoCadastro()">Novo</button>
                            </div>
                            <div class="card" style="padding:15px; margin-bottom:20px;"><input type="text"
                                    id="search-admin-pacientes" class="form-control" placeholder="Buscar..."
                                    onkeyup="filtrarAdminPacientes()"></div>
                            <div class="card table-container">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Nome</th>
                                            <th>CPF</th>
                                            <th>Email</th>
                                            <th>Status</th>
                                            <th>Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody id="lista-admin-pacientes"></tbody>
                                </table>
                            </div>
                        </div>

                        <div id="admin-content-unidades" class="hidden">
                            <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                                <h2>Unidades Hospitalares</h2><button class="btn btn-primary"
                                    onclick="openModal('modal-nova-unidade')">Nova Unidade</button>
                            </div>
                            <div class="card table-container">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Nome</th>
                                            <th>Tipo</th>
                                            <th>Endereço</th>
                                            <th>Telefone</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody id="lista-unidades"></tbody>
                                </table>
                            </div>
                        </div>

                        <div id="admin-content-leitos" class="hidden">
                            <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                                <h2>Mapa de Leitos</h2>
                            </div>
                            <div class="bed-grid">
                                <div class="bed-card occupied"><i data-lucide="bed" class="bed-icon"
                                        style="color:var(--danger)"></i>
                                    <div class="bed-status">Ocupado</div>
                                    <div class="bed-patient">Leito 101</div>
                                </div>
                                <div class="bed-card free"><i data-lucide="bed" class="bed-icon"
                                        style="color:var(--success)"></i>
                                    <div class="bed-status">Livre</div>
                                    <div class="bed-patient">Leito 102</div>
                                </div>
                                <div class="bed-card free"><i data-lucide="bed" class="bed-icon"
                                        style="color:var(--success)"></i>
                                    <div class="bed-status">Livre</div>
                                    <div class="bed-patient">Leito 103</div>
                                </div>
                            </div>
                        </div>

                        <div id="admin-content-estoque" class="hidden">
                            <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                                <h2>Gestão de Suprimentos</h2>
                                <button class="btn btn-primary"
                                    onclick="alert('Funcionalidade de Novo Item em desenvolvimento')">
                                    <i data-lucide="plus"></i> Novo Item
                                </button>
                            </div>

                            <div class="card table-container">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Item</th>
                                            <th>Categoria</th>
                                            <th>Qtd. Atual</th>
                                            <th>Nível Mínimo</th>
                                            <th>Status</th>
                                            <th>Ação</th>
                                        </tr>
                                    </thead>
                                    <tbody id="lista-estoque">
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div id="admin-content-relatorios" class="hidden">
                            <div
                                style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                                <div>
                                    <h2 style="margin-bottom:5px;">Inteligência de Negócios (BI)</h2>
                                    <p style="color:var(--secondary); font-size:0.9rem;">Análise financeira e
                                        operacional.</p>
                                </div>
                                <div style="display:flex; gap:10px;">
                                    <select class="form-control" style="width:auto; margin:0; font-size:0.9rem;"
                                        onchange="filtrarRelatorios(this.value)">
                                        <option value="7">Últimos 7 Dias</option>
                                        <option value="30" selected>Este Mês (30 Dias)</option>
                                        <option value="90">Este Trimestre</option>
                                    </select>
                                    <button class="btn btn-primary btn-sm" onclick="exportarRelatorioGlobal()">
                                        <i data-lucide="download"></i> PDF
                                    </button>
                                </div>
                            </div>

                            <div class="finance-kpi-grid">
                                <div class="kpi-card-v2" style="border-bottom-color: var(--primary);">
                                    <div class="kpi-header">
                                        <div class="kpi-label">Receita Bruta</div>
                                        <div class="kpi-icon-box" style="background: #e7f1ff; color: var(--primary);"><i
                                                data-lucide="dollar-sign"></i></div>
                                    </div>
                                    <div class="kpi-value" id="bi-receita">R$ 452.000</div>
                                    <div class="kpi-trend trend-up"><i data-lucide="trending-up" size="14"></i> +8% vs
                                        anterior</div>
                                </div>

                                <div class="kpi-card-v2" style="border-bottom-color: var(--danger);">
                                    <div class="kpi-header">
                                        <div class="kpi-label">Despesas</div>
                                        <div class="kpi-icon-box" style="background: #f8d7da; color: var(--danger);"><i
                                                data-lucide="trending-down"></i></div>
                                    </div>
                                    <div class="kpi-value" id="bi-despesa">-R$ 320.000</div>
                                    <div class="kpi-trend trend-down" style="color:var(--secondary)"><i
                                            data-lucide="minus" size="14"></i> Dentro do orçamento</div>
                                </div>

                                <div class="kpi-card-v2" style="border-bottom-color: var(--success);">
                                    <div class="kpi-header">
                                        <div class="kpi-label">Lucro Líquido</div>
                                        <div class="kpi-icon-box" style="background: #d4edda; color: var(--success);"><i
                                                data-lucide="pie-chart"></i></div>
                                    </div>
                                    <div class="kpi-value" id="bi-lucro">R$ 132.000</div>
                                    <div class="kpi-trend trend-up"><i data-lucide="trending-up" size="14"></i> Margem
                                        de 29%</div>
                                </div>

                                <div class="kpi-card-v2" style="border-bottom-color: var(--info);">
                                    <div class="kpi-header">
                                        <div class="kpi-label">Ticket Médio</div>
                                        <div class="kpi-icon-box" style="background: #d1ecf1; color: var(--info);"><i
                                                data-lucide="credit-card"></i></div>
                                    </div>
                                    <div class="kpi-value" id="bi-ticket">R$ 350,00</div>
                                    <div class="kpi-trend trend-up"><i data-lucide="arrow-up-right" size="14"></i> +R$
                                        12,00</div>
                                </div>
                            </div>

                            <div class="admin-grid-layout">
                                <div class="card" style="margin:0;">
                                    <h3 style="margin-bottom:20px;">Evolução de Receita x Despesa</h3>
                                    <div class="simple-bar-chart" style="height:200px;">
                                        <div class="s-bar-col">
                                            <div class="s-bar"
                                                style="height: 40%; background:var(--primary); opacity:0.3;"></div>
                                            <div class="s-bar"
                                                style="height: 60%; background:var(--primary); position:absolute; bottom:0;">
                                                <span class="s-tooltip">R$ 60k</span>
                                            </div>
                                            <span class="s-label">Sem 1</span>
                                        </div>
                                        <div class="s-bar-col">
                                            <div class="s-bar"
                                                style="height: 50%; background:var(--primary); opacity:0.3;"></div>
                                            <div class="s-bar"
                                                style="height: 75%; background:var(--primary); position:absolute; bottom:0;">
                                                <span class="s-tooltip">R$ 75k</span>
                                            </div>
                                            <span class="s-label">Sem 2</span>
                                        </div>
                                        <div class="s-bar-col">
                                            <div class="s-bar"
                                                style="height: 30%; background:var(--primary); opacity:0.3;"></div>
                                            <div class="s-bar"
                                                style="height: 85%; background:var(--primary); position:absolute; bottom:0;">
                                                <span class="s-tooltip">R$ 85k</span>
                                            </div>
                                            <span class="s-label">Sem 3</span>
                                        </div>
                                        <div class="s-bar-col">
                                            <div class="s-bar"
                                                style="height: 45%; background:var(--primary); opacity:0.3;"></div>
                                            <div class="s-bar"
                                                style="height: 65%; background:var(--primary); position:absolute; bottom:0;">
                                                <span class="s-tooltip">R$ 65k</span>
                                            </div>
                                            <span class="s-label">Sem 4</span>
                                        </div>
                                    </div>
                                    <div
                                        style="display:flex; justify-content:center; gap:20px; margin-top:15px; font-size:0.8rem;">
                                        <span style="display:flex; align-items:center; gap:5px;"><span class="dot"
                                                style="background:var(--primary)"></span> Receita</span>
                                        <span style="display:flex; align-items:center; gap:5px;"><span class="dot"
                                                style="background:var(--primary); opacity:0.3"></span> Despesa</span>
                                    </div>
                                </div>

                                <div class="card" style="margin:0;">
                                    <h3 style="margin-bottom:20px;">Origem da Receita</h3>

                                    <div class="revenue-source-item">
                                        <div class="revenue-header">
                                            <span>Convênios (Unimed/Amil)</span>
                                            <strong>65%</strong>
                                        </div>
                                        <div class="progress-track">
                                            <div class="progress-fill" style="width:65%; background:var(--primary)">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="revenue-source-item">
                                        <div class="revenue-header">
                                            <span>Consultas Particulares</span>
                                            <strong>25%</strong>
                                        </div>
                                        <div class="progress-track">
                                            <div class="progress-fill" style="width:25%; background:var(--success)">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="revenue-source-item">
                                        <div class="revenue-header">
                                            <span>Procedimentos Cirúrgicos</span>
                                            <strong>8%</strong>
                                        </div>
                                        <div class="progress-track">
                                            <div class="progress-fill" style="width:8%; background:var(--warning)">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="revenue-source-item">
                                        <div class="revenue-header">
                                            <span>Outros (Exames Avulsos)</span>
                                            <strong>2%</strong>
                                        </div>
                                        <div class="progress-track">
                                            <div class="progress-fill" style="width:2%; background:var(--secondary)">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="card">
                                <div
                                    style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                                    <h3>Últimos Lançamentos Financeiros</h3>
                                    <button class="btn btn-sm btn-outline">Ver Extrato Completo</button>
                                </div>
                                <div class="table-container">
                                    <table style="width:100%;">
                                        <thead>
                                            <tr>
                                                <th>Transação</th>
                                                <th>Categoria</th>
                                                <th>Valor</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody id="lista-relatorio-financeiro">
                                            <tr class="transaction-row">
                                                <td>
                                                    <div style="display:flex; align-items:center;">
                                                        <div class="t-icon" style="background:#d4edda; color:#155724;">
                                                            <i data-lucide="arrow-up"></i>
                                                        </div>
                                                        <div><strong>Repasse Convênio Unimed</strong><br><small
                                                                style="color:#888">Ref. Outubro/2025</small></div>
                                                    </div>
                                                </td>
                                                <td>Recebíveis</td>
                                                <td style="color:var(--success); font-weight:bold;">+ R$ 45.200,00</td>
                                                <td><span class="badge badge-ativo">Compensado</span></td>
                                            </tr>
                                            <tr class="transaction-row">
                                                <td>
                                                    <div style="display:flex; align-items:center;">
                                                        <div class="t-icon" style="background:#f8d7da; color:#721c24;">
                                                            <i data-lucide="arrow-down"></i>
                                                        </div>
                                                        <div><strong>Compra Suprimentos Médicos</strong><br><small
                                                                style="color:#888">Fornecedor: MedPharma</small></div>
                                                    </div>
                                                </td>
                                                <td>Despesa Operacional</td>
                                                <td style="color:var(--danger); font-weight:bold;">- R$ 12.450,00</td>
                                                <td><span class="badge badge-ativo">Pago</span></td>
                                            </tr>
                                            <tr class="transaction-row">
                                                <td>
                                                    <div style="display:flex; align-items:center;">
                                                        <div class="t-icon" style="background:#e7f1ff; color:#0056b3;">
                                                            <i data-lucide="user"></i>
                                                        </div>
                                                        <div><strong>Consulta Particular (Joana D.)</strong><br><small
                                                                style="color:#888">Pagamento via PIX</small></div>
                                                    </div>
                                                </td>
                                                <td>Atendimento</td>
                                                <td style="color:var(--success); font-weight:bold;">+ R$ 450,00</td>
                                                <td><span class="badge badge-ativo">Recebido</span></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>

                            <div id="admin-content-monitor" class="hidden">
                                <h2 style="margin-bottom:20px;">Monitorização</h2>
                                <div class="monitor-grid">
                                    <div class="monitor-card">
                                        <h3>99.9%</h3>
                                        <p>Uptime</p>
                                    </div>
                                    <div class="monitor-card">
                                        <h3>24ms</h3>
                                        <p>Latência</p>
                                    </div>
                                    <div class="monitor-card">
                                        <h3>120</h3>
                                        <p>Req/s</p>
                                    </div>
                                </div>
                                <div class="card">
                                    <h3>Status dos Serviços</h3>
                                    <ul class="service-list" style="list-style:none; padding:0;">
                                        <li
                                            style="display:flex; justify-content:space-between; padding:10px 0; border-bottom:1px solid #eee;">
                                            Base de Dados <span style="color:var(--success)">Online</span></li>
                                        <li
                                            style="display:flex; justify-content:space-between; padding:10px 0; border-bottom:1px solid #eee;">
                                            API Gateway <span style="color:var(--success)">Online</span></li>
                                        <li style="display:flex; justify-content:space-between; padding:10px 0;">Backups
                                            <span style="color:var(--success)">Atualizados</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
            </section>
            <section id="view-paciente" class="hidden">
                <div class="app-layout-sidebar">
                    <aside class="sidebar">
                        <div class="sidebar-item active" id="btn-paciente-inicio"
                            onclick="switchPacienteView('inicio')"><i data-lucide="home"></i> Início</div>
                        <div class="sidebar-item" id="btn-paciente-agendar" onclick="switchPacienteView('agendar')">
                            <i data-lucide="calendar-plus"></i> Agendar Consulta
                        </div>
                        <div class="sidebar-item" id="btn-paciente-historico" onclick="switchPacienteView('historico')">
                            <i data-lucide="file-clock"></i> Histórico
                        </div>
                        <div class="sidebar-item" id="btn-paciente-tele" onclick="iniciarSimulacaoVideo()"><i
                                data-lucide="video"></i> Telemedicina</div>
                    </aside>
                    <div class="content-area paciente-content">

                        <div id="paciente-content-inicio">
                            <div class="paciente-hero">
                                <div>
                                    <h2 id="paciente-welcome">Olá, Bem-vindo(a).</h2>
                                    <div style="color:var(--secondary)">Confira seu status de saúde hoje.</div>
                                </div>
                                <div style="text-align:right;">
                                    <button class="btn btn-outline btn-sm" onclick="abrirCarteirinha()">
                                        <i data-lucide="credit-card"></i> Carteirinha
                                    </button>
                                </div>
                            </div>

                            <div class="patient-dashboard-grid">
                                <div class="dashboard-col-left">
                                    <h3 style="margin-bottom:15px; font-size:1.1rem;">Próximo Agendamento</h3>
                                    <div id="container-proximo-agendamento">
                                    </div>

                                    <h3 style="margin:25px 0 15px 0; font-size:1.1rem;">Solicitações em Andamento</h3>
                                    <div id="container-servicos-pendentes">
                                    </div>

                                    <h3 style="margin:25px 0 15px 0; font-size:1.1rem;">Minha Saúde (Última aferição)
                                    </h3>
                                    <div class="health-stats-row">
                                        <div class="stat-card">
                                            <div class="stat-icon heart"><i data-lucide="heart"></i></div>
                                            <div class="stat-info"><span class="stat-value">78</span><span
                                                    class="stat-label">BPM</span></div>
                                        </div>
                                        <div class="stat-card">
                                            <div class="stat-icon weight"><i data-lucide="user"></i></div>
                                            <div class="stat-info"><span class="stat-value">72kg</span><span
                                                    class="stat-label">Peso</span></div>
                                        </div>
                                        <div class="stat-card">
                                            <div class="stat-icon pressure"><i data-lucide="activity"></i></div>
                                            <div class="stat-info"><span class="stat-value">12/8</span><span
                                                    class="stat-label">Pressão</span></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="dashboard-col-right">
                                    <h3 style="margin-bottom:15px; font-size:1.1rem;">Acesso Rápido</h3>
                                    <div class="quick-actions-grid">
                                        <div class="action-card" onclick="switchPacienteView('agendar')">
                                            <div class="action-icon"><i data-lucide="calendar-plus"></i></div>
                                            <span>Agendar Consulta</span>
                                        </div>

                                        <div class="action-card" onclick="prepararSolicitacaoServico()">
                                            <div class="action-icon" style="color:var(--warning); background:#fff3cd;">
                                                <i data-lucide="flask-conical"></i>
                                            </div>
                                            <span>Exame / Home Care</span>
                                        </div>

                                        <div class="action-card" onclick="abrirReceitas()">
                                            <div class="action-icon"><i data-lucide="pill"></i></div>
                                            <span>Minhas Receitas</span>
                                        </div>

                                        <div class="action-card" onclick="iniciarSimulacaoVideo()">
                                            <div class="action-icon"><i data-lucide="video"></i></div>
                                            <span>Plantão 24h</span>
                                        </div>

                                        <div class="info-card mt-20">
                                            <h4><i data-lucide="bell" size="16"></i> Lembretes</h4>
                                            <ul class="reminder-list">
                                                <li><span class="dot warning"></span> Tomar vitamina D (Diário)</li>
                                                <li><span class="dot info"></span> Retorno cardio em 5 dias</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="paciente-content-agendar" class="hidden">
                            <h2 style="margin-bottom:20px;">Nova Consulta</h2>
                            <div class="schedule-container">
                                <div class="card">
                                    <h4 style="margin-bottom:15px; color:var(--secondary)">1. Selecione a
                                        Especialidade
                                    </h4>
                                    <div class="specialty-grid">
                                        <div class="spec-card selected" onclick="selectSpec(this)"><i
                                                data-lucide="heart-pulse"></i> Cardiologia</div>
                                        <div class="spec-card" onclick="selectSpec(this)"><i
                                                data-lucide="stethoscope"></i>
                                            Clínica Geral</div>
                                        <div class="spec-card" onclick="selectSpec(this)"><i data-lucide="brain"></i>
                                            Neurologia</div>
                                        <div class="spec-card" onclick="selectSpec(this)"><i data-lucide="bone"></i>
                                            Ortopedia</div>
                                    </div>
                                </div>
                                <div class="card">
                                    <h4 style="margin-bottom:15px; color:var(--secondary)">2. Escolha o Horário</h4>
                                    <input type="date" class="form-control" style="max-width: 200px;"
                                        value="2025-12-12">
                                    <label
                                        style="font-size:0.85rem; color:var(--secondary); display:block; margin:10px 0;">Manhã</label>
                                    <div class="time-slots">
                                        <button class="slot-btn" onclick="selectSlot(this)">08:00</button>
                                        <button class="slot-btn" onclick="selectSlot(this)">09:30</button>
                                        <button class="slot-btn disabled">10:00</button>
                                        <button class="slot-btn" onclick="selectSlot(this)">11:15</button>
                                    </div>
                                    <label
                                        style="font-size:0.85rem; color:var(--secondary); display:block; margin:10px 0;">Tarde</label>
                                    <div class="time-slots">
                                        <button class="slot-btn" onclick="selectSlot(this)">14:00</button>
                                        <button class="slot-btn" onclick="selectSlot(this)">15:30</button>
                                        <button class="slot-btn" onclick="selectSlot(this)">16:45</button>
                                    </div>

                                    <div
                                        style="margin: 15px 0; padding: 10px; background: #f0f8ff; border-radius: 8px; border: 1px dashed var(--primary);">
                                        <label
                                            style="display:flex; align-items:center; gap:10px; cursor:pointer; font-weight:500; color:var(--primary-dark);">
                                            <input type="checkbox" id="check-tele-paciente"
                                                style="width:18px; height:18px;">
                                            <i data-lucide="video" size="18"></i> Consulta por Vídeo (Telemedicina)
                                        </label>
                                    </div>
                                </div>
                                <button class="btn btn-primary" style="width:100%; padding:15px; font-size:1.1rem;"
                                    onclick="salvarAgendamentoPaciente()">Confirmar Agendamento</button>
                            </div>
                        </div>

                        <div id="paciente-content-historico" class="hidden">
                            <div
                                style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                                <h2>Histórico Clínico</h2>
                                <div class="btn-group">
                                    <button class="btn btn-sm btn-outline active"
                                        onclick="filtrarHistorico('tudo', this)">Tudo</button>
                                    <button class="btn btn-sm btn-outline"
                                        onclick="filtrarHistorico('consulta', this)">Consultas</button>
                                    <button class="btn btn-sm btn-outline"
                                        onclick="filtrarHistorico('exame', this)">Exames</button>
                                </div>
                            </div>

                            <div class="timeline-container" id="lista-historico">

                                <div class="timeline-row" data-categoria="consulta">
                                    <div class="timeline-date"><span class="day">10</span><span class="month">OUT</span>
                                    </div>
                                    <div class="timeline-content">
                                        <div class="tl-header">
                                            <h4>Clínica Geral</h4><span class="badge badge-finalizado">Concluído</span>
                                        </div>
                                        <p style="color:var(--secondary); font-size:0.9rem; margin:5px 0;">Dr.
                                            Roberto
                                            G. • Hospital Central</p>
                                        <div class="tl-actions">
                                            <button class="btn btn-sm btn-outline"><i data-lucide="file-text"></i>
                                                Receita</button>
                                            <button class="btn btn-sm btn-outline"><i data-lucide="info"></i>
                                                Detalhes</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="timeline-row" data-categoria="exame">
                                    <div class="timeline-date"><span class="day">15</span><span class="month">SET</span>
                                    </div>
                                    <div class="timeline-content">
                                        <div class="tl-header">
                                            <h4>Exame de Sangue</h4><span
                                                class="badge badge-finalizado">Resultados</span>
                                        </div>
                                        <p style="color:var(--secondary); font-size:0.9rem; margin:5px 0;">
                                            Laboratório
                                            Central</p>
                                        <div class="tl-actions"><button class="btn btn-sm btn-outline"><i
                                                    data-lucide="download"></i> Baixar PDF</button></div>
                                    </div>
                                </div>

                                <div class="timeline-row" data-categoria="consulta">
                                    <div class="timeline-date"><span class="day">20</span><span class="month">AGO</span>
                                    </div>
                                    <div class="timeline-content">
                                        <div class="tl-header">
                                            <h4>Cardiologia</h4><span class="badge badge-finalizado">Concluído</span>
                                        </div>
                                        <p style="color:var(--secondary); font-size:0.9rem; margin:5px 0;">Dr.
                                            Carlos
                                            Silva • Telemedicina</p>
                                        <div class="tl-actions">
                                            <button class="btn btn-sm btn-outline"><i data-lucide="video"></i>
                                                Gravação</button>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </section>
    </div>

    </main>
    </div>

    <div id="video-call-interface" class="hidden">
        <div class="video-header">
            <div class="connection-status">
                <span class="status-dot"></span>
                <span id="call-status-text">Conectando...</span>
                <span id="call-timer">00:00</span>
            </div>
            <div class="encrypted-badge"><i data-lucide="lock" size="14"></i> End-to-End Encrypted</div>
        </div>

        <div class="video-main-area">
            <div class="doctor-placeholder">
                <div class="avatar-large">DC</div>
                <h3>Dr. Carlos Silva</h3>
                <p>Cardiologista</p>
                <div class="audio-wave hidden" id="doctor-talking">
                    <span></span><span></span><span></span>
                </div>
            </div>
        </div>

        <div class="video-self-preview">
            <div class="self-avatar">Você</div>
            <i data-lucide="video-off" class="cam-off-icon hidden" id="self-cam-icon"></i>
        </div>

        <div id="video-chat-panel" class="chat-panel hidden">
            <div class="chat-header">
                <h4>Chat da Consulta</h4>
                <button onclick="toggleChat()" class="btn-close-chat">X</button>
            </div>
            <div class="chat-body" id="chat-messages">
                <div class="chat-msg system">Bem-vindo à sala segura.</div>
            </div>
            <div class="chat-footer">
                <input type="text" id="chat-input" placeholder="Digite uma mensagem..."
                    onkeypress="handleChatKey(event)">
                <button onclick="enviarMensagemChat()"><i data-lucide="send"></i></button>
            </div>
        </div>

        <div class="video-controls-bar">
            <button class="control-btn" onclick="toggleMute(this)" aria-label="Ativar ou desativar microfone"
                title="Mutar Microfone">
                <i data-lucide="mic"></i>
            </button>

            <button class="control-btn" onclick="toggleCam(this)" aria-label="Ativar ou desativar câmera"
                title="Ligar/Desligar Câmera">
                <i data-lucide="video"></i>
            </button>

            <button class="control-btn" onclick="toggleChat()" aria-label="Abrir ou fechar chat" title="Abrir Chat">
                <i data-lucide="message-square"></i>
                <span class="badge-dot hidden" id="chat-badge"></span>
            </button>

            <button class="control-btn danger-btn" onclick="encerrarVideo()" aria-label="Encerrar chamada"
                title="Sair da Chamada">
                <i data-lucide="phone-off"></i>
            </button>
        </div>
    </div>

    <div id="modal-atendimento" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3>Atendimento</h3><button onclick="closeModal('modal-atendimento')"
                    aria-label="Fechar janela">X</button>
            </div>
            <div class="modal-body">
                <div
                    style="background:#f8f9fa; padding:10px; border-radius:8px; margin-bottom:15px; border-left:4px solid var(--primary);">
                    <strong>Paciente:</strong> <span id="md-nome" style="font-size:1.1rem;"></span>
                </div>

                <div class="form-row">
                    <div><label>Idade</label><input id="atend-idade" class="form-control"></div>
                    <div><label>Alergias</label><input id="atend-alergia" class="form-control"
                            style="color:var(--danger); font-weight:bold;"></div>
                </div>

                <div id="sec-triagem" class="hidden"
                    style="background:#fff3cd; padding:15px; border-radius:8px; margin-bottom:15px; border:1px solid #ffeeba;">
                    <h4 style="margin-bottom:10px; color:#856404;"><i data-lucide="activity"></i> Sinais Vitais
                        (Triagem)</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Pressão Arterial</label>
                            <input id="tri-pa" class="form-control" placeholder="Ex: 120/80">
                        </div>
                        <div class="form-group">
                            <label>Temp. (°C)</label>
                            <input id="tri-temp" class="form-control" placeholder="Ex: 36.5">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>BPM</label>
                            <input id="tri-bpm" class="form-control" placeholder="Ex: 80">
                        </div>
                        <div class="form-group">
                            <label>Saturação (%)</label>
                            <input id="tri-sat" class="form-control" placeholder="Ex: 98">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Evolução / Queixa Principal</label>
                    <textarea id="atend-evolucao" class="form-control" rows="3"
                        placeholder="Descreva o quadro clínico..."></textarea>
                </div>

                <div id="sec-prescricao">
                    <hr style="border:0; border-top:1px dashed #ddd; margin:15px 0;">

                    <h4 style="margin-bottom:10px; color:var(--primary);"><i data-lucide="pill" size="16"></i>
                        Prescrição Digital</h4>

                    <div style="background:#f0f8ff; padding:15px; border-radius:8px;">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Medicamento</label>
                                <input id="presc-med" class="form-control" placeholder="Ex: Amoxicilina">
                            </div>
                            <div class="form-group">
                                <label>Dosagem</label>
                                <input id="presc-dose" class="form-control" placeholder="Ex: 500mg">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Frequência/Uso</label>
                                <input id="presc-freq" class="form-control" placeholder="Ex: 8/8h por 7 dias">
                            </div>
                            <div class="form-group" style="display:flex; align-items:flex-end;">
                                <button class="btn btn-outline" style="width:100%;" onclick="adicionarItemPrescricao()">
                                    <i data-lucide="plus"></i> Adicionar
                                </button>
                            </div>
                        </div>

                        <div
                            style="background:white; border:1px solid #ddd; border-radius:4px; padding:10px; min-height:80px; margin-top:10px;">
                            <ul id="lista-prescricao-visual" style="list-style:none; padding:0; font-size:0.9rem;">
                                <li style="color:#999; text-align:center; padding:10px;">Nenhum medicamento adicionado.
                                </li>
                            </ul>
                        </div>

                        <div style="text-align:right; margin-top:10px;">
                            <button class="btn btn-sm btn-outline" onclick="gerarPDFSimulado()">
                                <i data-lucide="printer"></i> Visualizar PDF Assinado
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer"><button class="btn btn-success"
                    onclick="finalizarAtendimento()">Finalizar</button></div>
        </div>
    </div>

    <div id="modal-prontuario-detalhes" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3>Histórico</h3><button onclick="closeModal('modal-prontuario-detalhes')"
                    aria-label="Fechar janela">X</button>
            </div>
            <div class="modal-body">
                <h2 id="pront-nome"></h2>
                <p id="pront-info"></p>
                <div id="pront-historico"></div>
            </div>
            <div class="modal-footer"><button class="btn btn-primary" id="btn-editar-prontuario"
                    style="margin-right:auto;">Editar</button><button class="btn btn-secondary"
                    onclick="closeModal('modal-prontuario-detalhes')" aria-label="Fechar janela">Fechar</button></div>
        </div>
    </div>

    <div id="modal-editar-prontuario" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3>Editar Prontuário</h3><button onclick="closeModal('modal-editar-prontuario')"
                    aria-label="Fechar janela">X</button>
            </div>
            <div class="modal-body"><input type="hidden" id="edit-pront-id">
                <div class="form-group"><label>Nome</label><input id="edit-pront-nome" class="form-control" readonly>
                </div>
                <div class="form-row">
                    <div><label>Idade</label><input id="edit-pront-idade" class="form-control"></div>
                    <div><label>Tipo</label><input id="edit-pront-tipo" class="form-control"></div>
                </div>
                <div class="form-group"><label>Alergias</label><input id="edit-pront-alergia" class="form-control">
                </div>
                <div class="form-group"><label>Condição</label><input id="edit-pront-condicao" class="form-control">
                </div>
            </div>
            <div class="modal-footer"><button class="btn btn-primary" onclick="salvarEdicaoProntuario()">Salvar</button>
            </div>
        </div>
    </div>

    <div id="modal-novo-agendamento-medico" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3>Agendar</h3><button onclick="closeModal('modal-novo-agendamento-medico')"
                    aria-label="Fechar janela">X</button>
            </div>
            <div class="modal-body">
                <div class="form-group"><label>Nome</label><input id="new-appoint-name" class="form-control"></div>
                <div class="form-group"><label>Data</label><input type="datetime-local" id="new-appoint-date"
                        class="form-control"></div>
                <div class="form-group"><label>Motivo</label><input id="new-appoint-reason" class="form-control"></div>
                <div class="form-group" style="margin-top:10px;">
                    <label style="display:flex; align-items:center; gap:10px; cursor:pointer;">
                        <input type="checkbox" id="check-telemedicina" style="width:auto;">
                        É Telemedicina? (Vídeo)
                    </label>
                </div>
            </div>
            <div class="modal-footer"><button class="btn btn-primary"
                    onclick="salvarNovoAgendamentoMedico()">Agendar</button></div>
        </div>
    </div>

    <div id="modal-novo-prontuario" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3>Novo Prontuário</h3><button onclick="closeModal('modal-novo-prontuario')"
                    aria-label="Fechar janela">X</button>
            </div>
            <div class="modal-body">
                <div class="form-group"><label>Nome</label><input id="new-pront-nome" class="form-control"></div>
                <div class="form-row">
                    <div><label>Idade</label><input id="new-pront-idade" class="form-control"></div>
                    <div><label>Tipo</label><input id="new-pront-tipo" class="form-control"></div>
                </div>
                <div class="form-group"><label>Condição</label><input id="new-pront-condicao" class="form-control">
                </div>
            </div>
            <div class="modal-footer"><button class="btn btn-primary" onclick="salvarNovoProntuario()">Criar</button>
            </div>
        </div>
    </div>

    <div id="modal-novo-paciente" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modal-titulo-paciente">Cadastro</h3><button onclick="closeModal('modal-novo-paciente')"
                    aria-label="Fechar janela">X</button>
            </div>
            <div class="modal-body">
                <div class="form-row">
                    <div class="form-group"><label>Nome</label><input id="cad-nome" class="form-control"></div>
                    <div class="form-group"><label>CPF</label><input id="cad-cpf" class="form-control"></div>
                </div>
                <div class="form-row">
                    <div class="form-group"><label>Email</label><input id="cad-email" class="form-control"></div>
                    <div class="form-group"><label>Convênio</label><input id="cad-convenio" class="form-control"></div>
                </div>
                <div class="form-group"><label>Status</label><select id="cad-status" class="form-control">
                        <option>Ativo</option>
                        <option>Inativo</option>
                    </select></div>
            </div>
            <div class="modal-footer"><button class="btn btn-primary" onclick="salvarPaciente()">Salvar</button></div>
        </div>
    </div>

    <div id="modal-novo-profissional" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modal-titulo-profissional">Novo Profissional</h3><button
                    onclick="closeModal('modal-novo-profissional')" aria-label="Fechar janela">X</button>
            </div>
            <div class="modal-body">
                <div class="form-row">
                    <div class="form-group"><label>Nome</label><input id="pro-nome" class="form-control"></div>
                    <div class="form-group"><label>Cargo</label><select id="pro-cargo" class="form-control">
                            <option>Médico</option>
                            <option>Enfermeiro</option>
                            <option>Recepcionista</option>
                        </select></div>
                </div>
                <div class="form-row">
                    <div class="form-group"><label>Registro</label><input id="pro-reg" class="form-control"></div>
                    <div class="form-group"><label>Unidade</label><select id="pro-unidade"
                            class="form-control"></select></div>
                </div>
                <div class="form-row">
                    <div class="form-group"><label>Telefone</label><input id="pro-tel" class="form-control"></div>
                    <div class="form-group"><label>Turno</label><select id="pro-turno" class="form-control">
                            <option>Manhã</option>
                            <option>Tarde</option>
                            <option>Noite</option>
                        </select></div>
                </div>
                <div class="form-group"><label>Email</label><input id="pro-email" class="form-control"></div>
                <div class="form-group"><label>CPF</label><input id="pro-cpf" class="form-control"></div>
            </div>
            <div class="modal-footer"><button class="btn btn-primary" onclick="salvarProfissional()">Salvar</button>
            </div>
        </div>
    </div>

    <div id="modal-nova-unidade" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3>Nova Unidade</h3><button onclick="closeModal('modal-nova-unidade')"
                    aria-label="Fechar janela">X</button>
            </div>
            <div class="modal-body"><input id="uni-nome" class="form-control" placeholder="Nome"><input id="uni-tipo"
                    class="form-control" placeholder="Tipo"><input id="uni-end" class="form-control"
                    placeholder="Endereço"><input id="uni-tel" class="form-control" placeholder="Tel"></div>
            <div class="modal-footer"><button class="btn btn-primary" onclick="salvarNovaUnidade()">Salvar</button>
            </div>
        </div>
    </div>
    <div id="modal-cadastro-paciente" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3>Criar Nova Conta</h3>
                <button onclick="closeModal('modal-cadastro-paciente')" aria-label="Fechar janela">X</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Nome Completo</label>
                    <input id="reg-nome" class="form-control" placeholder="Ex: Lucas Martins">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>CPF</label>
                        <input id="reg-cpf" class="form-control" placeholder="000.000.000-00">
                    </div>
                    <div class="form-group">
                        <label>Telefone</label>
                        <input id="reg-tel" class="form-control" placeholder="(00) 00000-0000">
                    </div>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input id="reg-email" class="form-control" placeholder="seu@email.com">
                </div>
                <div class="form-group">
                    <label>Senha</label>
                    <input type="password" id="reg-senha" class="form-control" placeholder="Crie uma senha">
                </div>

                <div class="form-group"
                    style="margin-top:20px; padding:15px; background:#f8f9fa; border-radius:8px; border:1px solid #e9ecef;">
                    <label
                        style="display:flex; gap:10px; align-items:flex-start; cursor:pointer; font-size:0.9rem; color:var(--dark);">
                        <input type="checkbox" id="reg-lgpd" onchange="toggleBotaoCadastro()"
                            style="width:20px; height:20px; margin-top:2px;">
                        <span>
                            Li e aceito o <strong style="color:var(--primary);">processamento de dados
                                sensíveis</strong> de saúde, conforme a Lei Geral de Proteção de Dados (LGPD).
                        </span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btn-confirmar-cadastro" class="btn btn-primary" onclick="registrarPaciente()" disabled
                    style="opacity:0.5; cursor:not-allowed;">Confirmar Cadastro</button>
            </div>
        </div>
    </div>

    </div>
    <script src="script.js"></script>

    <div id="modal-carteirinha" class="modal-overlay">
        <div class="modal" style="max-width: 400px; background: transparent; box-shadow: none;">
            <div class="digital-card">
                <div class="card-header-logo">
                    <i data-lucide="activity"></i> VidaPlus <span style="font-weight:300">| Saúde</span>
                </div>
                <div class="card-chip">
                    <img src="https://img.icons8.com/color/48/sim-card-chip.png" alt="chip"
                        style="width:40px; opacity:0.8;">
                    <i data-lucide="wifi" style="transform: rotate(90deg);"></i>
                </div>
                <div class="card-number">8829 1002 9384 1102</div>
                <div class="card-details">
                    <div>
                        <label>Titular</label>
                        <div id="card-nome-titular">ANA SOUZA</div>
                    </div>
                    <div>
                        <label>Validade</label>
                        <div>12/29</div>
                    </div>
                </div>
                <div class="card-footer-plan">PLANO OURO • INTERNAÇÃO</div>
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn btn-secondary" onclick="closeModal('modal-carteirinha')"
                    aria-label="Fechar janela">Fechar Carteira</button>
            </div>
        </div>
    </div>

    <div id="modal-receitas" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3><i data-lucide="pill"></i> Minhas Receitas</h3>
                <button onclick="closeModal('modal-receitas')" aria-label="Fechar janela">X</button>
            </div>
            <div class="modal-body" style="background: #f8f9fa;">
                <div class="prescription-card">
                    <div class="presc-header">
                        <div><strong>Dr. Carlos Silva</strong><br><small>Cardiologista - CRM 12345</small></div>
                        <div style="color:var(--secondary)">10/OUT/2025</div>
                    </div>
                    <hr style="border:0; border-top:1px dashed #ccc; margin:10px 0;">
                    <ul class="presc-list">
                        <li><strong>Losartana Potássica</strong> 50mg<br><small>Tomar 1 comprimido a cada 12 horas (Uso
                                contínuo)</small></li>
                        <li><strong>Atenolol</strong> 25mg<br><small>Tomar 1 comprimido pela manhã</small></li>
                    </ul>
                    <div class="presc-footer">
                        <button class="btn btn-sm btn-outline"><i data-lucide="download"></i> PDF Assinado</button>
                        <button class="btn btn-sm btn-primary">Comprar Online</button>
                    </div>
                </div>

                <div class="prescription-card" style="opacity: 0.7;">
                    <div class="presc-header">
                        <div><strong>Dr. Roberto G.</strong><br><small>Clínico Geral</small></div>
                        <div style="color:var(--secondary)">15/JAN/2025</div>
                    </div>
                    <hr style="border:0; border-top:1px dashed #ccc; margin:10px 0;">
                    <ul class="presc-list">
                        <li><strong>Dipirona Monohidratada</strong> 1g<br><small>Se houver dor ou febre</small></li>
                    </ul>
                    <div class="presc-footer">
                        <div class="badge badge-finalizado">Vencida</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-exames" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3><i data-lucide="file-text"></i> Resultados de Exames</h3>
                <button onclick="closeModal('modal-exames')" aria-label="Fechar janela">X</button>
            </div>
            <div class="modal-body">
                <table class="table-container" style="width:100%">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Exame</th>
                            <th>Laboratório</th>
                            <th>Ação</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>05/12/2025</td>
                            <td><strong>Hemograma Completo</strong></td>
                            <td>Lab. Central</td>
                            <td><button class="btn btn-sm btn-outline" onclick="alert('Baixando PDF...')"><i
                                        data-lucide="download"></i> PDF</button></td>
                        </tr>
                        <tr>
                            <td>05/12/2025</td>
                            <td><strong>Colesterol Total e Frações</strong></td>
                            <td>Lab. Central</td>
                            <td><button class="btn btn-sm btn-outline" onclick="alert('Baixando PDF...')"><i
                                        data-lucide="download"></i> PDF</button></td>
                        </tr>
                        <tr>
                            <td>20/08/2025</td>
                            <td><strong>Raio-X Tórax</strong></td>
                            <td>ImagemPlus</td>
                            <td><button class="btn btn-sm btn-outline" onclick="alert('Visualizando Imagem...')"><i
                                        data-lucide="eye"></i> Ver</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div id="modal-solicitar-servico" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3>Solicitar Serviço</h3>
                <button onclick="closeModal('modal-solicitar-servico')" aria-label="Fechar janela">X</button>
            </div>
            <div class="modal-body">
                <p style="color:var(--secondary); margin-bottom:15px; font-size:0.9rem;">
                    Solicite exames laboratoriais ou atendimento domiciliar (Home Care). Nossa equipe fará a triagem e
                    agendará o horário.
                </p>

                <div class="form-group">
                    <label>Tipo de Serviço</label>
                    <select id="solic-tipo" class="form-control">
                        <option value="Exame Laboratorial">Exame Laboratorial (Coleta)</option>
                        <option value="Home Care - Enfermagem">Home Care - Enfermagem</option>
                        <option value="Home Care - Fisioterapia">Home Care - Fisioterapia</option>
                        <option value="Entrega de Medicamentos">Entrega de Medicamentos</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Detalhes do Pedido</label>
                    <textarea id="solic-detalhe" class="form-control" rows="3"
                        placeholder="Ex: Preciso realizar hemograma e colesterol..."></textarea>
                </div>

                <div class="alert-box"
                    style="background:#e7f1ff; padding:10px; border-radius:4px; font-size:0.85rem; color:#004085; display:flex; gap:10px; align-items:center;">
                    <i data-lucide="info"></i>
                    <div>
                        Para <strong>Home Care</strong>, verifique se seu endereço de cadastro está atualizado.
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('modal-solicitar-servico')"
                    aria-label="Fechar janela">Cancelar</button>
                <button class="btn btn-primary" onclick="salvarSolicitacaoServico()">Enviar Solicitação</button>
            </div>
        </div>
    </div>

    <footer id="global-footer">
        <div class="footer-content">
            <strong>SISTEMA DE GESTÃO HOSPITALAR E DE SERVIÇOS DE SAÚDE (SGHSS)</strong><br>
            Vida Plus 2025 • Desenvolvido por: Emanuel do Carmo Rodrigues
        </div>
    </footer>

</body>

</html>